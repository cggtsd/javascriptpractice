<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises Example</title>
</head>
<body>
    <h1>Promises in JS -2</h1>

    <script>

        function getCheese(){
            return new Promise((resolve,reject)=>{
              setTimeout(()=>{
                const cheese= "🧀"
                // resolve(cheese)
                reject("Bad Cheese")
              },2000)
            })
        }

        function makeDough(cheese){
            return new Promise((resolve,reject)=>{
               setTimeout(()=>{
                const dough=cheese+"🍩"
                resolve(dough)
               },2000)
            })
        }

        function bakePizza(dough){
            return new Promise((resolve,reject)=>{
               setTimeout(()=>{
                const pizza= dough+"🍕"
                resolve(pizza)
               })
            },2000)
        }

        // getCheese().then(cheese=>{
        //     console.log("here is cheese ",cheese)
        //     return makeDough(cheese)
        // })
        // .then((dough)=>{
        //    console.log("here is dough ",dough)
        //    return bakePizza(dough)
        // })
        // .then((pizza)=>{
        //     console.log("Here is your pizza ",pizza)
        // })
        // .catch(error=>console.log("No pizza ",error))
        // .finally(()=>console.log("Pizza order is completed"))
        async function orderPizza() {
            try{
           const cheese=  await getCheese()
          console.log("here is cheese ",cheese)
          const dough= await makeDough(cheese)
          console.log("here is dough ",dough)
          const pizza=await bakePizza(dough)
          console.log("here is pizza ",pizza)
            }
            catch(error){
                console.log(error)
            }
         
        }
        orderPizza()
    </script>
</body>
</html>